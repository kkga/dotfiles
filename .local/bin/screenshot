#!/bin/sh
# Use grimshot to take a screenshot and upload to 0x0.st

screenshot=$(
	printf "Copy\nSave\nUpload" | $DMENU_PROGRAM
)

case "$screenshot" in
	Copy) grimshot --notify copy area ;;
	Save)
		grimshot --notify save area ~/Pictures/"$(date +%s)".png
		floating-terminal lf "$HOME/Pictures/"
		;;
	Upload)
		grimshot save area ~/tmp/screenshot.png
		cd ~/tmp
		curl -F'file=@screenshot.png' https://0x0.st | wl-copy
		notify-send 'Screenshot' 'URL copied to clipboard'
		;;
esac
