# vim:foldmethod=marker:foldlevel=0

# Autostart {{{1

exec xrdb -merge ~/.Xresources
exec mako
exec gammastep -l 55:37 -m wayland -t 5700:3500 -r
exec pipewire
exec syncthing -no-browser

set $gnome-schema org.gnome.desktop.interface

exec_always {
    gsettings set $gnome-schema gtk-theme 'Adwaita'
    gsettings set $gnome-schema icon-theme 'Adwaita'
    gsettings set $gnome-schema cursor-theme 'Adwaita'
    gsettings set $gnome-schema cursor-size 24
    gsettings set $gnome-schema font-name 'sans-serif 10'
    gsettings set $gnome-schema monospace-font-name 'monospace 10'
}


# Variables {{{1

set $ws1 1:1
set $ws2 2:2
set $ws3 3:3
set $ws4 4:4
set $ws5 5:5
set $ws6 6:6

set $mod Mod4
set $left h
set $down j
set $up k
set $right l

set $term foot
set $menu env BEMENU_SCALE=2 bemenu-run | xargs swaymsg exec --
set $lock 'swaylock -f -c 333333'

# Colors {{{1
set $color_white  #FFFFFF
set $color_gray #777777
set $color_accent #ff0000
set $color_black #000000

# Colors                  border                 background             text                   indicator            child_border
client.focused            $color_white  	 $color_white     	$color_black   	       $color_accent        $color_white
client.focused_inactive   $color_black           $color_black           $color_white           $color_black         $color_black
client.unfocused          $color_black 		 $color_black           $color_white           $color_accent        $color_black
# client.urgent             $color_bright_yellow   $color_bright_yellow   $color_normal_black    $color_unused        $color_unused
# client.placeholder        $color_unused          $color_unused          $color_unused          $color_unused        $color_unused



# Rules {{{1
# for_window      [app_id=".*"]           split toggle
#for_window 	[app_id="firefox"] 	move container to workspace number $ws1
for_window      [app_id="^launcher$"]   floating enable


# General settings {{{1

xwayland disable
default_border pixel 1
default_floating_border pixel 2

smart_borders on
smart_gaps on
hide_edge_borders --i3 smart_no_gaps
focus_wrapping yes

font pango:monospace 9
titlebar_border_thickness 0
titlebar_padding 4 0

seat * xcursor_theme Adwaita 24

# Output configuration {{{1

output * bg #333333 solid_color
output * adaptive_sync on
output eDP-1 resolution 2560x1600 scale 2


# Idle configuration {{{1

exec swayidle -w \
	timeout 300 'swaylock -f -c 333333' \
	timeout 600 'loginctl suspend' \
	before-sleep 'swaylock -f -c 333333'

# Input configuration {{{1

input "type:keyboard" {
	xkb_layout us,ru
	xkb_options grp:shifts_toggle,ctrl:nocaps
	repeat_delay 300
	repeat_rate 30
}

input "type:touchpad" {
    dwt enabled
    tap enabled
    natural_scroll enabled
    middle_emulation enabled
    pointer_accel 0.3
    accel_profile adaptive
    scroll_factor 1.1
#	tap enabled
#	natural_scroll enabled
#	dwt enabled
#	scroll_factor 0.5
#	accel_profile adaptive
#	pointer_accel 0.5
}


# Key bindings {{{1

# General {{{2
    bindsym $mod+Return exec $term

    bindsym XF86MonBrightnessDown exec brightnessctl s 10%-
    bindsym XF86MonBrightnessUp exec brightnessctl s 10%+
    bindsym XF86AudioMute exec pamixer --toggle-mute
    bindsym XF86AudioLowerVolume exec pamixer --decrease 5
    bindsym XF86AudioRaiseVolume exec pamixer --increase 5

    bindsym $mod+Shift+c kill

    bindsym $mod+p exec $menu

    floating_modifier $mod normal

    bindsym $mod+Shift+r reload
    bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -b 'Yes, exit sway' 'swaymsg exit'


# Moving around {{{2

    bindsym $mod+$left focus left
    bindsym $mod+$down focus down
    bindsym $mod+$up focus up
    bindsym $mod+$right focus right

    bindsym $mod+Shift+$left move left
    bindsym $mod+Shift+$down move down
    bindsym $mod+Shift+$up move up
    bindsym $mod+Shift+$right move right


# Workspaces {{{2

    # Switch to workspace
    bindsym $mod+tab workspace back_and_forth
    bindsym $mod+1 workspace $ws1
    bindsym $mod+2 workspace $ws2
    bindsym $mod+3 workspace $ws3
    bindsym $mod+4 workspace $ws4
    bindsym $mod+5 workspace $ws5
    bindsym $mod+6 workspace $ws6
    bindsym $mod+Shift+1 move container to workspace $ws1
    bindsym $mod+Shift+2 move container to workspace $ws2
    bindsym $mod+Shift+3 move container to workspace $ws3
    bindsym $mod+Shift+4 move container to workspace $ws4
    bindsym $mod+Shift+5 move container to workspace $ws5
    bindsym $mod+Shift+6 move container to workspace $ws6


# Layout stuff {{{2

    # You can "split" the current object of your focus with
    # $mod+b or $mod+v, for horizontal and vertical splits
    # respectively.
    bindsym $mod+v splitt

    # Switch the current container between different layout styles
    bindsym $mod+s layout stacking
    bindsym $mod+w layout tabbed
    bindsym $mod+e layout toggle split

    # Make the current focus fullscreen
    bindsym $mod+f fullscreen

    # Toggle the current focus between tiling and floating mode
    bindsym $mod+Shift+space floating toggle

    # Swap focus between the tiling area and the floating area
    bindsym $mod+space focus mode_toggle

    # Move focus to the parent container
    bindsym $mod+a focus parent


# Scratchpad {{{2

    bindsym $mod+Shift+minus move scratchpad
    bindsym $mod+minus scratchpad show


# Resizing containers {{{2

    mode "resize" {
	bindsym $left resize shrink width 10
	bindsym $down resize grow height 10
	bindsym $up resize shrink height 10
	bindsym $right resize grow width 10

	# Return to default mode
	bindsym Return mode "default"
	bindsym Escape mode "default"
    }
    bindsym $mod+r mode "resize"


# Status Bar {{{1

bar {
	swaybar_command waybar
#    font pango:monospace 9
#    height 16
#    position bottom
#    status_command i3status-rs $HOME/.config/sway/status.toml
}

include /etc/sway/config.d/*
